@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
@import url('https://fonts.googleapis.com/icon?family=Material+Icons');

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  body {
    @apply bg-telegram-bg text-telegram-text antialiased;
    font-family: 'SF Pro Display', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Inter', system-ui, sans-serif;
  }

  * {
    box-sizing: border-box;
  }

  /* Custom scrollbar for dark theme */
  ::-webkit-scrollbar {
    width: 8px;
  }

  ::-webkit-scrollbar-track {
    @apply bg-telegram-surface;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-telegram-border rounded-full;
  }

  ::-webkit-scrollbar-thumb:hover {
    @apply bg-fluent-neutral-90;
  }
}

@layer components {
  /* ========================================
     TELEGRAM DARK THEME COMPONENTS
     ======================================== */

  /* Layout Components */
  .tg-sidebar {
    @apply fixed left-0 top-0 h-full w-80 bg-telegram-surface border-r border-telegram-border z-40 transform transition-transform duration-300 ease-out overflow-y-auto;
    transform: translateX(-100%);
  }

  .tg-sidebar.open {
    transform: translateX(0);
    @apply shadow-telegram-hover;
  }

  @media (min-width: 1024px) {
    .tg-sidebar {
      transform: translateX(0) !important;
      @apply shadow-telegram;
      position: fixed;
    }
    
    .tg-main-content {
      @apply ml-80;
    }
  }

  @media (max-width: 1023px) {
    .tg-main-content {
      @apply ml-0;
    }
    
    .tg-sidebar.closed {
      transform: translateX(-100%);
    }
    
    .tg-sidebar.open {
      transform: translateX(0);
      @apply shadow-fluent-hover;
    }
  }

  .tg-main-content {
    @apply transition-all duration-300 ease-out min-h-screen bg-telegram-bg;
  }

  /* Card Components */
  .tg-card {
    @apply bg-telegram-surface rounded-telegram border border-telegram-border;
  }

  .tg-card-elevated {
    @apply bg-telegram-elevated rounded-telegram shadow-telegram;
  }

  .tg-card-interactive {
    @apply tg-card hover:bg-telegram-elevated hover:shadow-telegram-hover transition-all duration-200 cursor-pointer;
  }

  /* Button Components - Fluent UI Inspired */
  .fluent-btn-primary {
    @apply inline-flex items-center justify-center px-6 py-3 bg-telegram-blue text-white font-medium text-sm rounded-fluent hover:bg-telegram-blueHover focus:outline-none focus:ring-2 focus:ring-telegram-blue focus:ring-opacity-50 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed;
  }

  .fluent-btn-secondary {
    @apply inline-flex items-center justify-center px-6 py-3 bg-telegram-elevated text-telegram-text font-medium text-sm rounded-fluent border border-telegram-border hover:bg-telegram-surface hover:border-telegram-blue focus:outline-none focus:ring-2 focus:ring-telegram-blue focus:ring-opacity-50 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed;
  }

  .fluent-btn-ghost {
    @apply inline-flex items-center justify-center px-4 py-2 text-telegram-textSecondary font-medium text-sm rounded-fluent hover:bg-telegram-elevated hover:text-telegram-text focus:outline-none focus:ring-2 focus:ring-telegram-blue focus:ring-opacity-30 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed;
  }

  .fluent-btn-danger {
    @apply inline-flex items-center justify-center px-6 py-3 bg-telegram-red text-white font-medium text-sm rounded-fluent hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-telegram-red focus:ring-opacity-50 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed;
  }

  .fluent-btn-success {
    @apply inline-flex items-center justify-center px-6 py-3 bg-telegram-green text-white font-medium text-sm rounded-fluent hover:bg-green-500 focus:outline-none focus:ring-2 focus:ring-telegram-green focus:ring-opacity-50 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed;
  }

  /* Input Components */
  .fluent-input {
    @apply w-full px-4 py-3 text-base text-telegram-text bg-telegram-elevated border border-telegram-border rounded-fluent focus:outline-none focus:ring-2 focus:ring-telegram-blue focus:border-telegram-blue transition-all duration-200 placeholder-telegram-textMuted;
  }

  .fluent-textarea {
    @apply fluent-input min-h-24;
    resize: vertical;
  }

  /* Navigation Components */
  .tg-nav-item {
    @apply flex items-center space-x-4 px-6 py-4 text-telegram-textSecondary hover:text-telegram-text hover:bg-telegram-elevated transition-all duration-200 cursor-pointer;
  }

  .tg-nav-item-active {
    @apply tg-nav-item bg-telegram-blue bg-opacity-10 text-telegram-blue hover:text-telegram-blue;
  }

  /* Status Components */
  .tg-status-online {
    @apply w-2.5 h-2.5 bg-telegram-green rounded-full;
  }

  .tg-status-offline {
    @apply w-2.5 h-2.5 bg-telegram-textMuted rounded-full;
  }

  .tg-status-pending {
    @apply w-2.5 h-2.5 bg-telegram-orange rounded-full animate-pulse;
  }

  /* Typography */
  .tg-heading-1 {
    @apply text-2xl font-semibold text-telegram-text;
  }

  .tg-heading-2 {
    @apply text-xl font-semibold text-telegram-text;
  }

  .tg-heading-3 {
    @apply text-lg font-medium text-telegram-text;
  }

  .tg-body {
    @apply text-base text-telegram-text;
  }

  .tg-body-secondary {
    @apply text-base text-telegram-textSecondary;
  }

  .tg-caption {
    @apply text-sm text-telegram-textMuted;
  }

  /* Badge Components */
  .tg-badge-success {
    @apply inline-flex items-center px-3 py-1 rounded-fluent text-xs font-medium bg-telegram-green bg-opacity-20 text-telegram-green;
  }

  .tg-badge-warning {
    @apply inline-flex items-center px-3 py-1 rounded-fluent text-xs font-medium bg-telegram-orange bg-opacity-20 text-telegram-orange;
  }

  .tg-badge-danger {
    @apply inline-flex items-center px-3 py-1 rounded-fluent text-xs font-medium bg-telegram-red bg-opacity-20 text-telegram-red;
  }

  .tg-badge-info {
    @apply inline-flex items-center px-3 py-1 rounded-fluent text-xs font-medium bg-telegram-blue bg-opacity-20 text-telegram-blue;
  }

  /* Grid System */
  .tg-grid {
    @apply grid gap-6;
  }

  .tg-grid-cols-1 { @apply grid-cols-1; }
  .tg-grid-cols-2 { @apply grid-cols-1 lg:grid-cols-2; }
  .tg-grid-cols-3 { @apply grid-cols-1 md:grid-cols-2 xl:grid-cols-3; }
  .tg-grid-cols-4 { @apply grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4; }

  /* Modal Components */
  .tg-modal-backdrop {
    @apply fixed inset-0 bg-black bg-opacity-60 z-50 flex items-center justify-center p-4;
  }

  .tg-modal {
    @apply bg-telegram-surface rounded-fluent-lg shadow-fluent-hover max-w-md w-full border border-telegram-border overflow-hidden;
  }

  /* Loading Components */
  .tg-spinner {
    @apply w-5 h-5 border-2 border-telegram-textMuted border-t-telegram-blue rounded-full animate-spin;
  }

  /* Animation Classes */
  .tg-fade-in {
    animation: fadeIn 0.2s ease-out;
  }

  .tg-scale-in {
    animation: scaleIn 0.2s ease-out;
  }

  .tg-slide-in {
    animation: slideIn 0.3s ease-out;
  }
}

/* Keyframe Animations */
@keyframes fadeIn {
  from { 
    opacity: 0; 
    transform: translateY(4px); 
  }
  to { 
    opacity: 1; 
    transform: translateY(0); 
  }
}

@keyframes scaleIn {
  from { 
    opacity: 0; 
    transform: scale(0.96); 
  }
  to { 
    opacity: 1; 
    transform: scale(1); 
  }
}

@keyframes slideIn {
  from { 
    transform: translateX(-12px); 
    opacity: 0; 
  }
  to { 
    transform: translateX(0); 
    opacity: 1; 
  }
}